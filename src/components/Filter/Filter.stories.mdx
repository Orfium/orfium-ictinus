import { Meta, Preview, Props, Story } from '@storybook/addon-docs/blocks';
import { boolean, select, text, withKnobs } from '@storybook/addon-knobs';

import Filter from '../Filter';
import FilterShowcase, { AsyncFilterShowcase } from '../storyUtils/FilterShowcase';
import Stack from '../storyUtils/Stack';

<Meta title="Design System/Filter" component={Filter} />

# Filter

A universal Filter component that is a clickable element that can hold many forms.

# Usage

```js
import { Filter } from '@orfium/ictinus';

<Filter
  styleType="filled"
  defaultValue={{ value: 'ice cream', label: 'Ice cream' }}
  items={[{ value: 'chocolate', label: 'Chocolate' }, { value: 'banana', label: 'Banana' }]}
  selectedItem={{ value: 'chocolate', label: 'Chocolate' }}
  onSelect={option => {/* do something with the selected option */}}
  label={'Label'}
/>;
```

# Props

<Props of={Filter} />


# Filter with style types

A filter with different with style types and a selection handler to return selection on change and to pass selection callback

<Preview>
  <Story name="Filter with style types">
    <Stack>
       <FilterShowcase styleType="filled" color="lightCoolGray-400" />
       <FilterShowcase styleType="outlined" color="lightCoolGray-400" />
       <FilterShowcase styleType="elevated" color="lightCoolGray-400" />
       <FilterShowcase styleType="transparent" color="lightCoolGray-400" />
    </Stack>
  </Story>
</Preview>

# Filter with colors

A filter with colors and a selection handler to return selection on change and to pass selection callback

<Preview>
  <Story name="Filter with colors">
    <Stack>
       <FilterShowcase styleType="filled" color="vividPurple-100" />
       <FilterShowcase styleType="outlined" color="red-500" />
       <FilterShowcase styleType="elevated" color="darkGray-300"/>
       <FilterShowcase styleType="transparent" color="magenta-100" />
    </Stack>
  </Story>
</Preview>


# Filter with big text

<Preview>
  <Story name="Filter with big text">
    <Stack>
       <FilterShowcase
            styleType="filled"
            color="lightCoolGray-400"
            defaultValue={{
                 label: 'default item is a very long text that should be overflow ellipsis',
                 value: '1',
            }}
        />
    </Stack>
  </Story>
</Preview>

# Searchable Filter

A filter that supports searching options

<Preview>
  <Story name="Searchable Filter">
    <Stack>
       <FilterShowcase styleType="filled" isSearchable color="lightCoolGray-400" />
    </Stack>
  </Story>
</Preview>


# Filter with Async and Loading

Filter that support asynchronous fetching, with loading status

<Preview>
  <Story name="Async Filter">
    <AsyncFilterShowcase />
  </Story>
</Preview>

# Filter with Async, Loading and Minimum Characters to Search for

Filter that support asynchronous fetching, with loading status

<Preview>
  <Story name="Async Filter with min characters">
    <AsyncFilterShowcase minCharactersToSearch={3} />
  </Story>
</Preview>

# Dynamic Props - Knobs
<Preview>
  <Story name="Dynamic Filter Props" parameters={{ decorators: [withKnobs] }}>
    <FilterShowcase
        items={[{ value: 'apple', label: 'Apple' }, { value: 'orange', label: 'Orange' }, { value: 'banana', label: 'Banana' }]}
        label={text('text', 'you can change me')}
        selectedItem={select('selectedItem', [{ value: 'apple', label: 'Apple' }, { value: 'orange', label: 'Orange' }, { value: 'banana', label: 'Banana' }])}
        defaultValue={select('defaultValue', [{ value: 'peach', label: 'Peach' }, { value: 'watermelon', label: 'Watermelon' }]), { value: 'peach', label: 'Peach' }}
        styleType={select('styleType', ['filled', 'outlined', 'elevated', 'transparent'], 'filled')}
        color={select('color', ['lightCoolGray-400', 'magenta-100', 'darkGray-700', 'red-500'], 'lightCoolGray-400')}
        isSearchable={boolean('isSearchable', false)}
    />
  </Story>
</Preview>
