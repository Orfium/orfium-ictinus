import { Meta, Preview, Props, Story } from '@storybook/addon-docs';
import { boolean, select, text, withKnobs } from '@storybook/addon-knobs';

import Filter from '../Filter';
import FilterShowcase, { AsyncFilterShowcase } from '../storyUtils/FilterShowcase';
import Stack from '../storyUtils/Stack';

<Meta title="Design System/Filter" component={Filter} />

# Filter

A universal Filter component that is a clickable element that can hold many forms.

# Usage

```js
import { Filter } from '@orfium/ictinus';

<Filter
  styleType="filled"
  defaultValue={{ value: 'ice cream', label: 'Ice cream' }}
  items={[{ value: 'chocolate', label: 'Chocolate' }, { value: 'banana', label: 'Banana' }]}
  selectedItem={{ value: 'chocolate', label: 'Chocolate' }}
  onSelect={option => {/* do something with the selected option */}}
  label={'Label'}
/>;
```

# Props

<Props of={Filter} />


# Filter with style types

A filter with different style types and a selection handler to return selection on change and to pass selection callback.
Here you can see our two different filter types as well.

<Preview>
  <Story name="Filter with style types">
     <h2>Preset</h2>
    <Stack>
       <FilterShowcase styleType="filled" />
       <FilterShowcase styleType="outlined" />
       <FilterShowcase styleType="elevated" />
       <FilterShowcase styleType="transparent" />
    </Stack>
    <h2>Added</h2>
    <Stack>
      <FilterShowcase styleType="filled" filterType="added" />
      <FilterShowcase styleType="outlined" filterType="added" />
      <FilterShowcase styleType="elevated" filterType="added" />
    </Stack>
  </Story>
</Preview>

# Filter with colors

A filter with colors and a selection handler to return selection on change and to pass selection callback

<Preview>
  <Story name="Filter with colors">
    <h2>Primary</h2>
    <Stack>
       <FilterShowcase styleType="filled" buttonType='primary' />
       <FilterShowcase styleType="outlined" buttonType='primary' />
       <FilterShowcase styleType="elevated" buttonType='primary' />
       <FilterShowcase styleType="transparent" buttonType='primary' />
    </Stack>
    <h2>Secondary</h2>
    <Stack>
       <FilterShowcase styleType="filled" buttonType='secondary' />
       <FilterShowcase styleType="outlined" buttonType='secondary' />
       <FilterShowcase styleType="elevated" buttonType='secondary' />
       <FilterShowcase styleType="transparent" buttonType='secondary' />
    </Stack>
  </Story>
</Preview>

# Filter with big text

<Preview>
  <Story name="Filter with big text">
    <Stack>
       <FilterShowcase
            styleType="filled"
            defaultValue={{
                 label: 'default item is a very long text that should not be overflow ellipsis',
                 value: '1',
            }}
        />
        <FilterShowcase
            styleType="filled"
            defaultValue={{
                 label: 'default item is a very long text that should be overflow ellipsis because the max width of the component is smaller than the width of the text',
                 value: '1',
            }}
        />
    </Stack>
  </Story>
</Preview>


# Searchable Filter

A filter that supports searching options

<Preview>
  <Story name="Searchable Filter">
    <Stack>
       <FilterShowcase styleType="filled" isSearchable />
    </Stack>
  </Story>
</Preview>


# Filter with Async and Loading

Filter that support asynchronous fetching, with loading status

<Preview>
  <Story name="Async Filter">
    <AsyncFilterShowcase />
  </Story>
</Preview>

# Filter with Async, Loading and Minimum Characters to Search for

Filter that support asynchronous fetching, with loading status

<Preview>
  <Story name="Async Filter with min characters">
    <AsyncFilterShowcase minCharactersToSearch={3} />
  </Story>
</Preview>

# Dynamic Props - Knobs
<Preview>
  <Story name="Dynamic Filter Props" parameters={{ decorators: [withKnobs] }}>
    <FilterShowcase
        items={[{ value: 'apple', label: 'Apple' }, { value: 'orange', label: 'Orange' }, { value: 'banana', label: 'Banana' }]}
        label={text('text', 'you can change me')}
        selectedItem={select('selectedItem', [{ value: 'apple', label: 'Apple' }, { value: 'orange', label: 'Orange' }, { value: 'banana', label: 'Banana' }])}
        defaultValue={select('defaultValue', [{ value: 'peach', label: 'Peach' }, { value: 'watermelon', label: 'Watermelon' }]), { value: 'peach', label: 'Peach' }}
        styleType={select('styleType', ['filled', 'outlined', 'elevated', 'transparent'], 'filled')}
        isSearchable={boolean('isSearchable', false)}
        buttonType={select('buttonType', ['primary', 'secondary'], 'primary')}
    />
  </Story>
</Preview>
