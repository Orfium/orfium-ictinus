import { Meta, Preview, Props, Story } from '@storybook/addon-docs';
import List, { ListItem, ListItemAction, ListItemText } from '../index';
import { FIGMA_URL, Function } from '../../../utils/common';
import Overview from '../../../storybook/Overview';
import { Radio, CheckBox } from '../../Controls';
import Typography from '../../Typography';
import Switch from '../../Switch';
import Avatar from '../../Avatar';
import Box from '../../Box';
import { useState } from 'react';

<Meta
  title="Updated Components/List/ListItem"
  component={ListItem}
  parameters={{
    design: [
      {
        type: 'figma',
        name: 'ListItem',
        url: `${FIGMA_URL}?node-id=22406-71589`,
      },
    ],
  }}
/>

<SectionHeader title={'ListItem'} />

- [Overview](#overview)
- [Usage](#usage)
- [Props](#props)
- [Variants](#variants)
- [References](#references)

## Overview

<Story
  name="Overview"
  parameters={{
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
>
  <Overview>
    The ListItem component represents an individual item in the List. It can contain
    eitherListItemText or ListItemAction, both, or custom component.
  </Overview>
</Story>

## Usage

<UsageGuidelines
  guidelines={[
    '`normal` rowSize items can only show secondary help text',
    'Use as versatile elements to serve as individual options on single or multi selection dropdown menus and lists',
    `If the children are not plain text, then the textValue prop must also be set to a plain text representation, which will be used to identify clean text by List and ListItem.`,
  ]}
/>

```js
import { List, ListItem } from '@orfium/ictinus';

const MyComponent = () => {
  return (
    <List>
      <ListItem>...</ListItem>
      <ListItem>...</ListItem>
    </List>
  );
};
```

## Props

<Props of={ListItem} />

<SubsectionHeader title="Variants" />

### ListItem compilations

<Tip>
  In case you want to use Radio button inside the ListItem, additional props should be provided to
  the Radio:
  <br />
  <br />
  <Typography component="span" isBold>
    isSelected
  </Typography>: indicates if the Radio (inside the selected ListItem) is selected.
  <br />
  <br />
  <Typography component="span" isBold>
    onClick
  </Typography>
  : wrapped inside the inputProps object prop, the onClick handler is needed for stopping event propagation
  and for updating the List's state.
  <br />
  <br />
  <Typography component="span" isItalic>
    Check the code of the following example for more details on the implementation.
  </Typography>
</Tip>

<Preview>
  <Story name="ListItem compilations">
    <Function>
      {() => {
        const [selectedKeys, setSelectedKeys] = useState(new Set());
        const [selectedRadio, setSelectedRadio] = useState('');
        return (
          <>
            <Box mb={'3'}>
              <List label={'list'} selectedKeys={selectedKeys} onSelectionChange={setSelectedKeys}>
                <ListItem key={'1'} textValue={'Text Only'}>
                  <ListItemText>Text only</ListItemText>
                </ListItem>
                <ListItem key={'2'} rowSize={'compact'} textValue={'Text Only'}>
                  <ListItemText>Text only (compact)</ListItemText>
                </ListItem>
              </List>
            </Box>
            <Box mb={'3'}>
              <List label={'list'} selectedKeys={selectedKeys} onSelectionChange={setSelectedKeys}>
                <ListItem key={'3'} textValue={'Text'}>
                  <ListItemText description={'with Secondary Help Text'}>Text</ListItemText>
                </ListItem>
                <ListItem key={'4'} rowSize={'compact'} textValue={'Text'}>
                  <ListItemText description={'with Secondary Help Text'}>
                    Text (compact)
                  </ListItemText>
                </ListItem>
              </List>
            </Box>
            <Box mb={'3'}>
              <List label={'list'} selectedKeys={selectedKeys} onSelectionChange={setSelectedKeys}>
                <ListItem key={'5'}>
                  <ListItemAction>
                    <Radio
                      value="cherry"
                      isSelected={selectedKeys.has(`5`)}
                      inputProps={{
                        onClick: (e) => {
                          e.stopPropagation();
                          setSelectedKeys(new Set(['5']));
                        },
                      }}
                    />
                  </ListItemAction>
                  <ListItemText>Option Radio</ListItemText>
                </ListItem>
                <ListItem key={'6'} rowSize={'compact'}>
                  <ListItemAction>
                    <Radio
                      value="banana"
                      isSelected={selectedKeys.has(`6`)}
                      inputProps={{
                        onClick: (e) => {
                          e.stopPropagation();
                          setSelectedKeys(new Set(['6']));
                        },
                      }}
                    />
                  </ListItemAction>
                  <ListItemText>Option Radio (compact)</ListItemText>
                </ListItem>
              </List>
            </Box>
            <Box mb={'3'}>
              <List label={'list'} selectedKeys={selectedKeys} onSelectionChange={setSelectedKeys}>
                <ListItem key={'7'} textValue={'Option Checkbox'}>
                  <ListItemAction>
                    <CheckBox
                      value="7"
                      isSelected={selectedKeys.has(`7`)}
                      onChange={() => {
                        if (selectedKeys.has(`7`)) {
                          setSelectedKeys(new Set([]));
                        } else {
                          setSelectedKeys(new Set(['7']));
                        }
                      }}
                    />
                  </ListItemAction>
                  <ListItemText>Option Checkbox</ListItemText>
                </ListItem>
                <ListItem key={'8'} rowSize={'compact'} textValue={'Option Checkbox'}>
                  <ListItemAction>
                    <CheckBox
                      value="8"
                      isSelected={selectedKeys.has(`8`)}
                      onChange={() => {
                        if (selectedKeys.has(`8`)) {
                          setSelectedKeys(new Set([]));
                        } else {
                          setSelectedKeys(new Set(['8']));
                        }
                      }}
                    />
                  </ListItemAction>
                  <ListItemText>Option Checkbox (compact)</ListItemText>
                </ListItem>
              </List>
            </Box>
            <Box mb={'3'}>
              <List label={'list'} selectedKeys={selectedKeys} onSelectionChange={setSelectedKeys}>
                <ListItem key={'9'} textValue={'Option Switch'}>
                  <ListItemText>Option Switch</ListItemText>
                  <ListItemAction>
                    <Switch isChecked={selectedKeys.has(`9`)} onChange={() => {}} />
                  </ListItemAction>
                </ListItem>
                <ListItem key={'10'} rowSize={'compact'} textValue={'Option Switch'}>
                  <ListItemText>Option Switch (compact)</ListItemText>
                  <ListItemAction>
                    <Switch isChecked={selectedKeys.has(`10`)} onChange={() => {}} />
                  </ListItemAction>
                </ListItem>
              </List>
            </Box>
            <Box mb={'3'}>
              <List label={'list'} selectedKeys={selectedKeys} onSelectionChange={setSelectedKeys}>
                <ListItem key={'11'} textValue={'Option Icon/Avatar'}>
                  <ListItemAction>
                    <Avatar size={1} color={'blue'} iconName={'user'} />
                  </ListItemAction>
                  <ListItemText>Option Icon/Avatar</ListItemText>
                </ListItem>
                <ListItem key={'12'} rowSize={'compact'} textValue={'Option Icon/Avatar'}>
                  <ListItemAction>
                    <Avatar size={1} color={'blue'} iconName={'user'} />
                  </ListItemAction>
                  <ListItemText>Option Icon/Avatar (compact)</ListItemText>
                </ListItem>
              </List>
            </Box>
          </>
        );
      }}
    </Function>
  </Story>
</Preview>

### Disabled ListItem

<Preview>
  <Story name="Disabled ListItem">
    <Function>
      {() => {
        return (
          <Box mb={'3'}>
            <List label={'list'} disabledKeys={['1', '2', '3', '4', '5', '6']}>
              <ListItem key={'1'} textValue={'Text Only'}>
                <ListItemText>This text option is disabled</ListItemText>
              </ListItem>
              <ListItem key={'3'} textValue={'Option Switch'}>
                <ListItemText>This Switch Option is disabled</ListItemText>
                <ListItemAction>
                  <Switch isDisabled />
                </ListItemAction>
              </ListItem>
              <ListItem key={'4'} rowSize={'compact'} textValue={'Option Icon/Avatar'}>
                <ListItemAction>
                  <Avatar size={1} color={'blue'} iconName={'user'} />
                </ListItemAction>
                <ListItemText>This Avatar Option is disabled</ListItemText>
              </ListItem>
              <ListItem key={'5'} textValue={'Option Checkbox'}>
                <ListItemAction>
                  <CheckBox isDisabled />
                </ListItemAction>
                <ListItemText>This Checkbox Option is disabled</ListItemText>
              </ListItem>
              <ListItem key={'6'}>
                <ListItemAction>
                  <Radio value="6" isDisabled />
                </ListItemAction>
                <ListItemText>This Radio Option is disabled</ListItemText>
              </ListItem>
            </List>
          </Box>
        );
      }}
    </Function>
  </Story>
</Preview>

### References

All references for a complete `<List>` with all component mentioned throughout the `<List>` section.

- [List](?path=/docs/design-system-list-list--list)
- [ListSection](?path=/docs/design-system-list-listsection--normal-list-section)
- [ListItem](?path=/docs/design-system-list-listitem--list-item-compilations)
- [ListItemText](?path=/docs/design-system-list-listitemtext--list-item-text-normal)
- [ListItemAction](?path=/docs/design-system-list-listitemaction--page)
