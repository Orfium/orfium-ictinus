import { Meta, Preview, Props, Story } from '@storybook/addon-docs/blocks';
import { boolean, select, text, withKnobs } from '@storybook/addon-knobs';
import Button from './Button';
import Stack from '../storyUtils/Stack';
import AsyncButtonShowcase from '../storyUtils/AsyncButtonShowcase/AsyncButtonShowcase';
import Icon from '../Icon';

<Meta title="Design System/Button" component={Button} />

# Button

A universal Button component that is a clickable element that can hold many forms.

# Usage

```js
import { Button } from '@orfium/ictinus';

<Button onClick={() => {}}>
  Click Me
</Button>
```

### Async handling case

```js
import { Button } from '@orfium/ictinus';

<Button
      onClick={setLoading => {
        setLoading?.(true);

        serviceMock()
          .then(res => {
            console.log(res);
          })
          .finally(() => setLoading?.(false));
      }}
    >
      Async Action
</Button>
```

# Props

<Props of={Button} />


# Icon Button Sizes
Button sizes are 3 `sm, md, lg` and indicates the acronym of the size. Default is medium size

<Preview>
  <Story name="Icon Button Sizes">
    <Stack>
        <Button size={'lg'} iconLeft={<Icon name={'dashboard'} color={'primary'} size={14} />} dataTestId={'size-lg'}>Hello world</Button>
        <Button size={'md'} iconLeft={<Icon name={'dashboard'} color={'primary'} size={14} />} dataTestId={'size-md'}>Hello world</Button>
        <Button size={'sm'} iconLeft={<Icon name={'dashboard'} color={'primary'} size={14} />} dataTestId={'size-sm'}>Hello world</Button>
    </Stack>
  </Story>
</Preview>

# Icon Button Sizes
Button sizes are 3 `sm, md, lg` and indicates the acronym of the size. Default is medium size

<Preview>
  <Story name="Button Sizes">
    <Stack>
        <Button size={'lg'}>Hello world</Button>
        <Button size={'md'}>Hello world</Button>
        <Button size={'sm'}>Hello world</Button>
    </Stack>
  </Story>
</Preview>

# Button Types
Button types based on the system approved literals for `success, error, info, warning, link`

<Preview>
  <Story name="Button Types">
    <Stack>
        <Button size={'sm'} disabled type='success'>Success</Button>
        <Button size={'sm'} type='success'>Success</Button>
        <Button size={'sm'} type='error'>Error</Button>
        <Button size={'sm'} type='info'>Info</Button>
        <Button size={'sm'} type='warning'>Warning</Button>
        <Button size={'sm'} type='link'>Link</Button>
    </Stack>
  </Story>
</Preview>

# Button Colors
Button colors based on the system palette. Check <a href="/?path=/story/guide-colors--page">our colors</a> for more.

<Preview>
  <Story name="Button Colors">
    <Stack>
        <Button size={'sm'} disabled color={'red-500'}>Disabled</Button>
        <Button size={'sm'} color={'red-600'}>Red 600</Button>
        <Button size={'sm'} color={'magenta-200'}>Magenta 200</Button>
    </Stack>
  </Story>
</Preview>

# Regular Button
<Preview>
  <Story name="Regular Button">
    <Button filled={true} size={'lg'}>Hello world</Button>
  </Story>
</Preview>

# Button with icon
<Preview>
  <Story name="Button with icon">
    <Stack>
      <Button filled={true} size={'lg'} iconLeft={<Icon name={'dashboard'} color={'primary'} size={16} />}>Hello world</Button>
      <Button filled={true} size={'lg'} iconRight={<Icon name={'dashboard'} color={'primary'} size={16} />}>Hello world</Button>
      <Button filled={true} size={'lg'} iconLeft={<Icon name={'dashboard'} color={'primary'} size={16} />} iconRight={<Icon name={'dotsVertical'} color={'primary'} size={18} />}>Hello world</Button>
    </Stack>
  </Story>
</Preview>

# Non Filled Button
<Preview>
  <Story name="Non Filled Button">
    <Button filled={false} size={'lg'}>Hello world</Button>
  </Story>
</Preview>

# Transparent Button
<Preview>
  <Story name="Transparent Button">
    <Button type='primary' size={'lg'} transparent>Hello world</Button>
  </Story>
</Preview>

# Block Button
<Preview>
  <Story name="Block Button">
    <Stack vertical>
      <Button filled={true} size={'lg'} block iconLeft={<img src="https://brandmark.io/logo-rank/random/pepsi.png" width="16" height="16" />} iconRight={<img src="https://brandmark.io/logo-rank/random/pepsi.png" width="16" height="16" />}>Hello world</Button>
      <Button filled={false} size={'lg'} block>Hello world</Button>
      <Button type='success' size={'lg'} transparent block>Hello world</Button>
    </Stack>
  </Story>
</Preview>

# Dynamic Button Props - Knobs
<Preview>
  <Story name="Dynamic Button Props" parameters={{ decorators: [withKnobs] }}>
    <Button type={select('type', ['primary', 'secondary', 'success', 'error', 'info', 'warning', 'primary', 'secondary'], 'secondary')} filled={boolean('filled', true)} size={select('size', ['sm', 'md', 'lg'], 'lg')} block={boolean('block', false)}>{text('text', 'change me!')}</Button>
  </Story>
</Preview>


# Async Button with loading state

<Preview>
  <Story name="Async Button">
    <Stack>
      <Button size={'sm'} onClick={() => { console.log('clicked!')}}>Sync Action</Button>
      <AsyncButtonShowcase text={'Async sm'} btnSize={'sm'}/>
      <AsyncButtonShowcase text={'Async md'} btnSize={'md'}/>
      <AsyncButtonShowcase text={'Async lg'} btnSize={'lg'}/>
    </Stack>
  </Story>
</Preview>
