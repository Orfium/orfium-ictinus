import { Meta, Preview, Props, Story } from '@storybook/addon-docs';
import { boolean, select, text, withKnobs } from '@storybook/addon-knobs';
import Button from './Button';
import Stack from '../storyUtils/Stack';
import AsyncButtonShowcase from '../storyUtils/AsyncButtonShowcase/AsyncButtonShowcase';
import Icon from '../Icon';
import { FIGMA_URL } from '../../utils/common';

<Meta
  title="Design System/Button"
  component={Button}
  parameters={{
    design: [
      {
        type: 'figma',
        name: 'Button',
        url: `${FIGMA_URL}?node-id=574%3A7239`,
      },
      {
        type: 'figma',
        name: 'Anatomy',
        url: `${FIGMA_URL}?node-id=10324%3A104411`,
      },
      {
        type: 'figma',
        name: 'Filled',
        url: `${FIGMA_URL}?node-id=8145%3A145377`,
      },
      {
        type: 'figma',
        name: 'Outlined',
        url: `${FIGMA_URL}?node-id=8149%3A145615`,
      },
      {
        type: 'figma',
        name: 'Transparent',
        url: `${FIGMA_URL}?node-id=8166%3A146566`,
      },
    ],
  }}
/>

# Button

A universal Button component that is a clickable element that can hold many forms.

# Usage

```js
import { Button } from '@orfium/ictinus';

<Button onClick={() => {}}>Click Me</Button>;
```

### Async handling case

```js
import { Button } from '@orfium/ictinus';

<Button
  onClick={(setLoading) => {
    setLoading?.(true);

    serviceMock()
      .then((res) => {
        console.log(res);
      })
      .finally(() => setLoading?.(false));
  }}
>
  Async Action
</Button>;
```

# Props

<Props of={Button} />

# Icon Button Sizes

Button sizes are 3 `sm, md, lg` and indicates the acronym of the size. Default is medium size

<Preview>
  <Story name="Icon Button Sizes">
    <Stack>
      <Button iconLeft={<Icon name={'dashboard'} />} dataTestId={'size-lg'}>
        Hello world
      </Button>
      <Button iconLeft={<Icon name={'dashboard'} />} dataTestId={'size-md'}>
        Hello world
      </Button>
      <Button iconLeft={<Icon name={'dashboard'} />} dataTestId={'size-sm'}>
        Hello world
      </Button>
    </Stack>
  </Story>
</Preview>

# Icon Button Sizes

Button sizes are 3 `sm, md, lg` and indicates the acronym of the size. Default is medium size

<Preview>
  <Story name="Button Sizes">
    <Stack>
      <Button>Hello world</Button>
      <Button>Hello world</Button>
      <Button>Hello world</Button>
    </Stack>
  </Story>
</Preview>

# Button Types

Button types based on the system approved literals for `success, error, info, warning, link`

<Preview>
  <Story name="Button Types">
    <Stack>
      <Button isDisabled>Success</Button>
      <Button>Success</Button>
      <Button>Error</Button>
      <Button>Info</Button>
      <Button>Warning</Button>
      <Button>Link</Button>
    </Stack>
  </Story>
</Preview>

# Button Colors

Button colors based on the system palette. Check <a href="/?path=/story/guide-colors--page">our colors</a> for more.

<Preview>
  <Story name="Button Colors">
    <Stack>
      <Button isDisabled>Disabled</Button>
      <Button>Red 600</Button>
      <Button>Magenta 200</Button>
    </Stack>
  </Story>
</Preview>

# Regular Button

<Preview>
  <Story name="Regular Button">
    <Button>Hello world</Button>
  </Story>
</Preview>

# Button with icon

<Preview>
  <Story name="Button with icon">
    <Stack>
      <Button iconLeft={<Icon name={'dashboard'} />}>Hello world</Button>
      <Button iconRight={<Icon name={'dashboard'} />}>Hello world</Button>
      <Button
        iconLeft={<Icon name={'dashboard'} />}
        iconRight={<Icon name={'dotsVertical'} color={'primary'} size={18} />}
      >
        Hello world
      </Button>
    </Stack>
  </Story>
</Preview>

# Non Filled Button

<Preview>
  <Story name="Non Filled Button">
    <Button>Hello world</Button>
  </Story>
</Preview>

# Transparent Button

<Preview>
  <Story name="Transparent Button">
    <Button>Hello world</Button>
  </Story>
</Preview>

# Block Button

<Preview>
  <Story name="Block Button">
    <Stack isVertical>
      <Button
        isBlock
        iconLeft={<Icon name={'dashboard'} color={'primary'} size={16} />}
        iconRight={<Icon name={'dashboard'} color={'primary'} size={16} />}
      >
        Hello world
      </Button>
      <Button isBlock>Hello world</Button>
      <Button isBlock>Hello world</Button>
    </Stack>
  </Story>
</Preview>

# Dynamic Button Props - Knobs

<Preview>
  <Story name="Dynamic Button Props" parameters={{ decorators: [withKnobs] }}>
    <Button isBlock={boolean('isBlock', false)}>{text('text', 'change me!')}</Button>
  </Story>
</Preview>

# Async Button with loading state

<Preview>
  <Story name="Async Button">
    <Stack>
      <Button
        onClick={() => {
          console.log('clicked!');
        }}
      >
        Sync Action
      </Button>
      <AsyncButtonShowcase text={'Async sm'} />
      <AsyncButtonShowcase type={'secondary'} text={'Async md'} />
      <AsyncButtonShowcase text={'Async lg'} />
    </Stack>
  </Story>
</Preview>
