import { Meta, Props, Story } from '@storybook/addon-docs';
import { boolean, select, text, withKnobs } from '@storybook/addon-knobs';
import Button from './Button';
import Stack from '../storyUtils/Stack';
import LinkTo from '@storybook/addon-links/react';

import { FIGMA_URL } from '../../utils/common';
import LoadingButtonShowcase from '../storyUtils/LoadingButtonShowcase';
import Overview from '../../storybook/Overview';
import { getIconSelectorKnob } from '../../utils/stories';

<Meta
  title="Updated Components/Buttons/Default (Text)"
  component={Button}
  parameters={{
    design: [
      {
        type: 'figma',
        name: 'Button',
        url: `${FIGMA_URL}?node-id=574%3A7239`,
      },
      {
        type: 'figma',
        name: 'Anatomy',
        url: `${FIGMA_URL}?node-id=10324%3A104411`,
      },
      {
        type: 'figma',
        name: 'Filled',
        url: `${FIGMA_URL}?node-id=8145%3A145377`,
      },
      {
        type: 'figma',
        name: 'Outlined',
        url: `${FIGMA_URL}?node-id=8149%3A145615`,
      },
      {
        type: 'figma',
        name: 'Transparent',
        url: `${FIGMA_URL}?node-id=8166%3A146566`,
      },
    ],
  }}
/>

<SectionHeader title={'Button'} />

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)

## Overview

<Story
  name="Overview"
  parameters={{
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
>
  <Overview>
    A universal Button component that is a clickable element that can hold many forms.
  </Overview>
</Story>

## Usage

<UsageGuidelines
  guidelines={[
    'Use a button to indicate an action the user can take that affects the website’s front-end or back-end',
    'Use a button to allow the user to save, edit and delete a form, dialog, modal window, card, toolbar',
    'Use a button in empty states to indicate next steps a user should take',
  ]}
  policies={[
    'If the action the user takes does not affect the website, use a link',
    'If you are directing a user to a an external url, use a link with an external icon',
    'If you are directing a user to a different location within the same page, use an anchor link instead',
    'If you want to show alternate content while still in the same page, use tabs instead',
    'If you need text to precede or follow the action, use a link (e.g. “don’t have an account? Sign up”)',
    'If you need to use a longer label that cannot be shortened, use a link',
  ]}
/>

<Tip>
  If you need to use icon as button with no text, check out{' '}
  <LinkTo kind="/Updated Components/Buttons/IconButton">Icon button</LinkTo> component
</Tip>

## Props

<Props of={Button} />

<SubsectionHeader title="Variants" />

### Button Types and Sizes

Button Types based on the system approved literals for `primary`, `secondary`, `tertiary` and `danger`.<br/>
There are 2 Button Sizes: `normal` and `compact`.

<Preview>
  <Story name="Button Types and Sizes">
    <Stack>
      <Button type="primary">Primary</Button>
      <Button type="secondary">Secondary</Button>
      <Button type="tertiary">Tertiary</Button>
      <Button type="danger">Danger</Button>
    </Stack>
    <Stack>
      <Button type="primary" isDisabled>
        Primary
      </Button>
      <Button type="secondary" isDisabled>
        Secondary
      </Button>
      <Button type="tertiary" isDisabled>
        Tertiary
      </Button>
      <Button type="danger" isDisabled>
        Danger
      </Button>
    </Stack>
    <Stack>
      <Button size="compact" type="primary">
        Primary
      </Button>
      <Button size="compact" type="secondary">
        Secondary
      </Button>
      <Button size="compact" type="tertiary">
        Tertiary
      </Button>
      <Button size="compact" type="danger">
        Danger
      </Button>
    </Stack>
    <Stack>
      <Button size="compact" type="primary" isDisabled>
        Primary
      </Button>
      <Button size="compact" type="secondary" isDisabled>
        Secondary
      </Button>
      <Button size="compact" type="tertiary" isDisabled>
        Tertiary
      </Button>
      <Button size="compact" type="danger" isDisabled>
        Danger
      </Button>
    </Stack>
  </Story>
</Preview>

### Inverted Button Types and Sizes

Inverted Button Types based on the system approved literals for `inverted` and `invertedAlt`<br/>
There are 2 Inverted Button Sizes: `normal` and `compact`.

<Preview isInverted>
  <Story name="Inverted Button Types and Sizes">
    <Stack>
      <Button type="inverted">Inverted</Button>
      <Button type="invertedAlt">InvertedAlt</Button>
    </Stack>
    <Stack>
      <Button type="inverted" isDisabled>
        Inverted
      </Button>
      <Button type="invertedAlt" isDisabled>
        InvertedAlt
      </Button>
    </Stack>
    <Stack>
      <Button size="compact" type="inverted">
        Inverted
      </Button>
      <Button size="compact" type="invertedAlt">
        InvertedAlt
      </Button>
    </Stack>
    <Stack>
      <Button size="compact" type="inverted" isDisabled>
        Inverted
      </Button>
      <Button size="compact" type="invertedAlt" isDisabled>
        InvertedAlt
      </Button>
    </Stack>
  </Story>
</Preview>

### Loading Button

Button Loading variations based on the `isLoading` boolean prop.

<Preview>
  <Story name="Loading Button">
    <LoadingButtonShowcase />
  </Story>
</Preview>

### Buttons with icons

Buttons with icons. 3 different variations based on the icon's placement.

<Tip>Compact variant doesn't support icons</Tip>

<Preview>
  <Story name="Buttons with icons" parameters={{ decorators: [withKnobs] }}>
    <Stack>
      <Button
        iconLeftName={getIconSelectorKnob('iconLeftName', 'edit')}
        type={select(
          'type',
          ['primary', 'secondary', 'tertiary', 'danger', 'inverted', 'invertedAlt'],
          'primary'
        )}
      >
        Only left Icon
      </Button>
      <Button
        iconLeftName={getIconSelectorKnob('iconLeftName', 'edit')}
        iconRightName={getIconSelectorKnob('iconRightName', 'download')}
        type={select(
          'type',
          ['primary', 'secondary', 'tertiary', 'danger', 'inverted', 'invertedAlt'],
          'primary'
        )}
      >
        Both Icons
      </Button>
      <Button
        iconRightName={getIconSelectorKnob('iconRightName', 'download')}
        type={select(
          'type',
          ['primary', 'secondary', 'tertiary', 'danger', 'inverted', 'invertedAlt'],
          'primary'
        )}
      >
        Only Right Icon
      </Button>
    </Stack>
  </Story>
</Preview>

### Buttons with Avatars

An avatar can be placed instead of a left icon. Only for `primary, secondary, tertiary` buttons.
Can be only combined with a right icon, not with a left icon at the same time.

<Tip>Compact variant doesn't support Avatars</Tip>

<Preview>
  <Story name="Buttons with Avatars" parameters={{ decorators: [withKnobs] }}>
    <Stack>
      <Button
        avatar={{ label: 'PR' }}
        type={select('type', ['primary', 'secondary', 'tertiary'], 'primary')}
      >
        Text Avatar
      </Button>
      <Button
        avatar={{ src: 'https://mui.com/static/images/avatar/1.jpg' }}
        type={select('type', ['primary', 'secondary', 'tertiary'], 'primary')}
      >
        Img Avatar
      </Button>
      <Button avatar={{}} type={select('type', ['primary', 'secondary', 'tertiary'], 'primary')}>
        Empty Avatar
      </Button>
    </Stack>
  </Story>
</Preview>

### Block Button

<Preview>
  <Story name="Block Button" parameters={{ decorators: [withKnobs] }}>
    <Stack isVertical>
      <Button
        isBlock
        type={select(
          'type',
          ['primary', 'secondary', 'tertiary', 'danger', 'inverted', 'invertedAlt'],
          'primary'
        )}
      >
        Hello world
      </Button>
      <Button
        isBlock
        type={select(
          'type',
          ['primary', 'secondary', 'tertiary', 'danger', 'inverted', 'invertedAlt'],
          'primary'
        )}
        size="compact"
      >
        Hello world
      </Button>
      <Button
        isBlock
        isLoading
        type={select(
          'type',
          ['primary', 'secondary', 'tertiary', 'danger', 'inverted', 'invertedAlt'],
          'primary'
        )}
      >
        Hello world
      </Button>
      <Button
        isBlock
        isLoading
        type={select(
          'type',
          ['primary', 'secondary', 'tertiary', 'danger', 'inverted', 'invertedAlt'],
          'primary'
        )}
        size="compact"
      >
        Hello world
      </Button>
      <Button
        isBlock
        isDisabled
        type={select(
          'type',
          ['primary', 'secondary', 'tertiary', 'danger', 'inverted', 'invertedAlt'],
          'primary'
        )}
      >
        Hello world
      </Button>
      <Button
        isBlock
        isDisabled
        type={select(
          'type',
          ['primary', 'secondary', 'tertiary', 'danger', 'inverted', 'invertedAlt'],
          'primary'
        )}
        size="compact"
      >
        Hello world
      </Button>
    </Stack>
  </Story>
</Preview>

### Playground

<Preview>
  <Story name="Playground" parameters={{ decorators: [withKnobs] }}>
    <Stack isVertical>
      <Button
        isBlock
        type={select(
          'type',
          ['primary', 'secondary', 'tertiary', 'danger', 'inverted', 'invertedAlt'],
          'primary'
        )}
        size={select('size', ['compact', 'normal'], 'normal')}
        iconLeftName={getIconSelectorKnob('iconLeftName')}
        iconRightName={getIconSelectorKnob('iconRightName')}
        isLoading={boolean('isLoading', false)}
        isDisabled={boolean('isDisabled', false)}
        isBlock={boolean('isBlock', false)}
      >
        Hello world
      </Button>
    </Stack>
  </Story>
</Preview>
