import { Meta, Preview, Props, Story } from '@storybook/addon-docs/blocks';
import { withKnobs, boolean, select } from '@storybook/addon-knobs';
import AssetMatching from './index';
import AssetMatchingShowcase from '../storyUtils/AssetMatchingShowcase/AssetMatchingShowcase';
import { ActionsToolbox } from '../AssetMatching';
import ActionsToolBoxShowcase from '../storyUtils/AssetMatchingShowcase/ActionsToolBoxShowcase';
import SectionHeaderShowcase from '../storyUtils/AssetMatchingShowcase/SectionHeaderShowcase';
import { SectionHeader } from '../AssetMatching';
import BulkActionsShowcase from '../storyUtils/AssetMatchingShowcase/BulkActionsShowcase';

<Meta title="Design System/Asset Matching"/>

# AssetMatching

The component accepts or rejects asset matches based on probability score and metadata.

The component is used either by rendering the default left and right content by providing the necessary props for each side or by rendering custom components with custom data flow and matching policies.

### Default matching policy:
All matched metadata are marked with lightTintedGrey 300 and onHover color changes to 30%(variant 50) of primary color.

### AssetMatching SectionHeader - Card actions

The header of the AssetMatching component can include external actions for manipulating the matched metadata. The actions' display logic is that:
2 actions: two small button
3 actions: two small buttons and one small icon button
more than 3 actions: we display two actions as small buttons and we group all others in a small menu button

# Usage of AssetMatching component

```js
import { AssetMatching } from '@orfium/ictinus';

    <AssetMatching
        styleType={styleType}
        matchedCategoryItems={['George Michael']}
        leftAssetProps={{
          categories: [
            {
              title: 'Artists',
              categoryItems: ['George Michael',],
              col_order: 1,
            },
            {
              title: 'Writers',
              categoryItems: ['George Michael'],
              col_order: 0,
            },
          ],
          assetLinkedInfo: {
            title: (
              <Fragment>
                Linked Sound <br /> Recordings
              </Fragment>
            ),
            details: 234,
          },
          assetHeading: {
            top: 'Owned Recording',
            bottom: 'ISWC: KS39729323',
            main: 'Too Funky',
            iconName: 'recordLabel',
          },
        }}
        rightAssetProps={{
          categories: [
            {
              title: 'Writers',
              categoryItems: ['George Michael', 'Mick Jagger', 'Keith Richards'],
              col_order: 1,
            },
          ],
          assetLinkedInfo: {
            title: (
              <Fragment>
                Linked Sound <br /> Recordings
              </Fragment>
            ),
            details: 234,
          },
          assetHeading: {
            top: 'Owned Composition',
            bottom: 'ISWC: KS39729323',
            main: 'Waiting for That Day',
            iconName: 'composition',
          },
        }}
        matchingActions={[
            {
              text: 'Confirm',
              icon: 'check',
              onClick: () => {
                alert('confirmed');
              },
            },
            {
              text: 'Reject',
              icon: 'close',
              onClick: () => {
                alert('rejected');
              },
            },
            {
              text: 'Hide',
              icon: 'sight',
              onClick: () => {
                alert('hidden');
              },
            },
            {
              text: 'Review Later',
              icon: 'clock',
              onClick: () => {
                alert('reviewed');
              },
            },
          ]}
      />
```

# Props of AssetMatching component

<Props of={AssetMatching}/>

# Showcase of AssetMatching component

<Preview>
  <Story name="AssetMatching" parameters={{ decorators: [withKnobs] }}>
    <AssetMatchingShowcase actionButtonFill={boolean('ToolboxActionButtonFill',true)} styleType={select('styleType',['filled', 'outlined', 'elevated'], 'outlined')} showCustomContent={boolean('showCustomContent', false)} />
  </Story>
</Preview>

#Usage of AssetMatching Toolbox


```js
import { ActionsToolbox } from '@orfium/ictinus/dist/AssetMatching';

    <ActionsToolbox
        matchingActions={[
            {
              text: 'Confirm',
              icon: 'check',
              onClick: () => {
                alert('confirmed');
              },
            },
            {
              text: 'Reject',
              icon: 'close',
              onClick: () => {
                alert('rejected');
              },
            },
            {
              text: 'Hide',
              icon: 'sight',
              onClick: () => {
                alert('hidden');
              },
            },
            {
              text: 'Review Later',
              icon: 'clock',
              onClick: () => {
                alert('reviewed');
              },
            },
          ]}
        isButtonFilled={true}
      />
```

# Props of Toolbox component

<Props of={ActionsToolbox}/>

# Showcase of Toolbox component

<Preview>
  <Story name="ActionsToolbox" parameters={{ decorators: [withKnobs] }}>
    <ActionsToolBoxShowcase />
  </Story>
</Preview>


# Usage of SectionHeader component as BulkActions section

```js
import { SectionHeader as SectionBulkActions } from '@orfium/ictinus/dist/AssetMatching';

    <SectionBulkActions
        matchingActions={[
            {
              text: 'Confirm',
              icon: 'check',
              onClick: () => {
                alert('confirmed');
              },
            },
            {
              text: 'Reject',
              icon: 'close',
              onClick: () => {
                alert('rejected');
              },
            },
            {
              text: 'Hide',
              icon: 'sight',
              onClick: () => {
                alert('hidden');
              },
            },
            {
              text: 'Review Later',
              icon: 'clock',
              onClick: () => {
                alert('reviewed');
              },
            },
          ]}
        isChecked={checked}
        isIntermediateStatus={selectedItems.length > 0 && selectedItems.length < 3}
        styleType={'outlined'}
        customCheckboxContent={
          <span css={{ color: 'black' }}>
            {selectedItems.length !== 0 ? `${selectedItems.length} items selected` : ''}
          </span>
        }
        buttonStyles={{
          primaryButtonColor: 'blue-500',
          secondaryButtonColor: 'blue-100',
          isButtonFilled: true,
        }}
        onCheck={checked => {
          setChecked(checked);
          setSelectedItems(checked ? ['1', '2', '3'] : []);
        }}
      />
```

# Props of SectionBulkActions

<Props of={SectionHeader}/>

# Showcase SectionBulkActions 1

<Preview>
  <Story name="SectionHeader" parameters={{ decorators: [withKnobs] }}>
    <SectionHeaderShowcase isCheckboxEnabled={boolean('isCheckboxEnabled', true)} isButtonFilled={boolean('isButtonFilled',true)} />
  </Story>
</Preview>


# Showcase SectionBulkActions 2

<Preview>
  <Story name="BulkActionsShowcase" >
    <BulkActionsShowcase />
  </Story>
</Preview>

