import { Meta, Preview, Props, Story } from '@storybook/addon-docs';
import { BrowserRouter as Router, Route, Switch, Link as RouterLink } from 'react-router-dom';
import BreadcrumbShowcase from '../storyUtils/BreadcrumbShowcase/BreadcrumbShowcase.tsx';
import Stack from '../storyUtils/Stack';
import Breadcrumb from './Breadcrumb';
import { FIGMA_URL } from '../../utils/common';
import SectionHeader from '../../storybook/SectionHeader';

<Meta
  title="Design System/Breadcrumb"
  component={() => true}
  parameters={{
    design: [
      {
        type: 'figma',
        name: 'Breadcrumb',
        url: `${FIGMA_URL}?node-id=11721%3A92484`,
      },
    ],
  }}
/>

<SectionHeader title={'Breadcrumb'} />

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)

## Overview

Breadcrumbs consist of a list of links that help a user visualize a page's location within the hierarchical structure of a website and allow navigation up to any of its levels.

## Props

<Props of={Breadcrumb} />

## Usage

<UsageGuidelines
  guidelines={[
    'Include a breadcrumb in pages to show the hierarchy of parent and child pages and allow the user to navigate to a previous level.',
    'Breadcrumbs can only show relationships between a parent page and a child page. If your page needs to link to a sibling, not a parent or child in relation to it, use tabs or navigation instead.',
  ]}
/>

## Variants

### Basic Breadcrumbs

<Preview>
  <Story name="Basic Breadcrumbs">
    <Stack>
      <Breadcrumb
        items={[
          { href: '/first-level', label: 'Level 1' },
          { href: '/second-level', label: 'Level 2' },
          { href: '/third-level', label: 'Level 3' },
          { href: '/forth-level', label: 'Level 4' },
          { href: '/fifth-level', label: 'Level 5' },
        ]}
      />
    </Stack>
  </Story>
</Preview>

### Go Back To

Instead of providing list of levels (`items`), `backTo` prop offers the capability of using Breadcrumb as a Go Back To Link.

<Preview>
  <Story name="Go Back To">
    <Stack>
      <Breadcrumb backTo={{ href: '/first-level', label: 'Level 1' }} />
    </Stack>
  </Story>
</Preview>

### Third-party Routing Library

`BreadcrumbItem` prop type includes Link's `href` and `component` props. Using these you can achieve the integration with third-party routing libraries.

<Preview>
  <Story name="Third-party Routing Library">
    <Stack>
      <Router>
        <Breadcrumb
          items={[
            { href: '/first-level', label: 'Level 1', component: RouterLink },
            { href: '/second-level', label: 'Level 2', component: RouterLink },
            { href: '/third-level', label: 'Level 3', component: RouterLink },
            { href: '/forth-level', label: 'Level 4', component: RouterLink },
            { href: '/fifth-level', label: 'Level 5', component: RouterLink },
          ]}
        />
        <Switch>
          <Route path="/first-level">
            {() => <div style={{ marginTop: '8px' }}>Current: Level 1</div>}
          </Route>
          <Route path="/second-level">
            {() => <div style={{ marginTop: '8px' }}>Current: Level 2</div>}
          </Route>
          <Route path="/third-level">
            {() => <div style={{ marginTop: '8px' }}>Current: Level 3</div>}
          </Route>
          <Route path="/forth-level">
            {() => <div style={{ marginTop: '8px' }}>Current: Level 4</div>}
          </Route>
          <Route path="/fifth-level">
            {() => <div style={{ marginTop: '8px' }}>Current: Level 5</div>}
          </Route>
        </Switch>
      </Router>
    </Stack>
  </Story>
</Preview>

### Playground

<Preview>
  <Story name="Playground">
    <Stack>
      <BreadcrumbShowcase
        initData={[
          { href: '/first-level', label: 'Level 1' },
          { href: '/second-level', label: 'Level 2' },
        ]}
      />
    </Stack>
  </Story>
</Preview>
