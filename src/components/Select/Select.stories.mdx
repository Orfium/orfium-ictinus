import { Meta, Story, Preview, Props } from '@storybook/addon-docs';
import { withKnobs, boolean, array, select, text } from '@storybook/addon-knobs';
import Select from './Select';
import Stack from '../storyUtils/Stack';
import ContactUsForm from './ContactUsForm';
import SelectShowcase from '../storyUtils/SelectShowcase';
import EdgeCasesSelectShowcase from '../storyUtils/EdgeCasesSelectShowcase';
const options = [
  { value: 'chocolate', label: 'Chocolate' },
  { value: 'strawberry', label: 'Strawberry' },
  { value: 'banana', label: 'Banana' },
  { value: 'citrus', label: 'Citrus' },
  { value: 'vanilla', label: 'Vanilla', isDisabled: true },
];
const defaultValue = options[0];
const handleSelectedOption = selectedOption => {
  console.log('On option change', selectedOption);
}

<Meta title="Design System/Select" component={Select} />

# Select

A universal Select component that is a clickable element that can hold many forms.

# Usage

```js
import { Select } from '@orfium/ictinus';

<Select options={[{ value: 'chocolate', label: 'Chocolate' }, { value: 'strawberry', label: 'Strawberry' }]} />
```

# Props

<Props of={Select} />

# Simple Select

Simple select component with clearable data and searchable input

<Preview>
  <Story name="Simple Select">
    <Stack>
      <Select
        label={'Flavour'}
        options={options}
        defaultValue={defaultValue}
        handleSelectedOption={handleSelectedOption}
        styleType={'filled'}
      />
      <Select
        label={'Flavour'}
        options={options}
        defaultValue={defaultValue}
        handleSelectedOption={handleSelectedOption}
        styleType={'outlined'}
      />
      <Select
        label={'Flavour'}
        options={options}
        defaultValue={defaultValue}
        handleSelectedOption={handleSelectedOption}
        styleType={'elevated'}
      />
    </Stack>
  </Story>
</Preview>

# Select Sizes

Select available sizes - sizes are based on the select

<Preview>
  <Story name="Select Sizes">
    <Stack>
      <Select
        label={'Flavour'}
        options={options}
        defaultValue={defaultValue}
        handleSelectedOption={handleSelectedOption}
        size={'md'}
        styleType={'outlined'}
      />
      <Select
        label={'Flavour'}
        options={options}
        defaultValue={defaultValue}
        handleSelectedOption={handleSelectedOption}
        styleType={'outlined'}
      />
    </Stack>
  </Story>
</Preview>

# Select Icons

Select with icon options right and left of the text

<Preview>
  <Story name="Select with icon and size">
    <Stack>
      <Select
        label={'Flavour'}
        options={options}
        defaultValue={defaultValue}
        handleSelectedOption={handleSelectedOption}
        size={'md'}
        styleType={'outlined'}
        leftIcon={
          <img
            style={{ background: 'red' }}
            src="https://brandmark.io/logo-rank/random/pepsi.png"
            width="16"
            height="16"
          />
        }
      />
      <Select
        label={'Flavour'}
        options={options}
        defaultValue={defaultValue}
        handleSelectedOption={handleSelectedOption}
        styleType={'outlined'}
        rightIcon={
          <img
            style={{ background: 'red' }}
            src="https://brandmark.io/logo-rank/random/pepsi.png"
            width="16"
            height="16"
          />
        }
      />
      <Select
        label={'Flavour'}
        options={options}
        defaultValue={defaultValue}
        handleSelectedOption={handleSelectedOption}
        styleType={'outlined'}
        rightIcon={
          <img
            style={{ background: 'red' }}
            src="https://brandmark.io/logo-rank/random/pepsi.png"
            width="16"
            height="16"
          />
        }
        leftIcon={
          <img
            style={{ background: 'red' }}
            src="https://brandmark.io/logo-rank/random/pepsi.png"
            width="16"
            height="16"
          />
        }
      />
    </Stack>
  </Story>
</Preview>

# Disabled/Locked Select

Select disabled with label

<Preview>
  <Story name="Disabled/Locked Select">
    <Stack>
      <Select
        disabled
        label={'Flavour'}
        options={options}
      />
      <Select
        disabled
        label={'Flavour'}
        options={options}
        styleType={'outlined'}
      />
      <Select
        disabled
        label={'Flavour'}
        options={options}
        styleType={'elevated'}
      />
    </Stack>
    <Stack>
      <Select
        locked
        label={'Flavour'}
        options={options}
      />
      <Select
        locked
        label={'Flavour'}
        options={options}
        styleType={'outlined'}
      />
      <Select
        locked
        label={'Flavour'}
        options={options}
        styleType={'elevated'}
      />
    </Stack>
  </Story>
</Preview>

# Select with Label and Statuses

Select with Label and Statuses. Error and Hint are shown below for all 3 types filled, outlined, elevated

<Preview>
  <Story name="Select with label and statuses" parameters={{ decorators: [withKnobs] }}>
    <Stack>
      <Stack>
        <Select
          hintMsg={text('custom error message', 'Error in Select')}
          label={'Label'}
          status={'error'}
          styleType={'filled'}
          options={options}
          defaultValue={defaultValue}
        />
        <Select
          hintMsg={text('custom error message', 'Error in Select')}
          label={'Label'}
          status={'error'}
          styleType={'outlined'}
          options={options}
          defaultValue={defaultValue}
        />
        <Select
          hintMsg={text('custom error message', 'Error in Select')}
          label={'Label'}
          status={'error'}
          styleType={'elevated'}
          options={options}
          defaultValue={defaultValue}
        />
      </Stack>
      <Stack>
        <Select
          hintMsg={text('custom error message', 'Error in Select')}
          label={'Label'}
          status={'hint'}
          options={options}
          styleType={'filled'}
        />
        <Select
          hintMsg={text('custom error message', 'Error in Select')}
          label={'Label'}
          status={'hint'}
          options={options}
          styleType={'outlined'}
        />
        <Select
          hintMsg={text('custom error message', 'Error in Select')}
          label={'Label'}
          status={'hint'}
          options={options}
          styleType={'elevated'}
        />
      </Stack>
    </Stack>
  </Story>
</Preview>

# Select with Highlighted search term

Simple select component where searched term is highlighted in options

<Preview>
  <Story name="Select with Highlight">
    <Stack>
      <Select
        highlightSearch
        label={'Flavour'}
        options={options}
        handleSelectedOption={handleSelectedOption}
        styleType={'filled'}
      />
    </Stack>
  </Story>
</Preview>

# Not Searchable Select

Select that support asynchronous fetching, with loading status

<Preview>
  <Story name="Not Searchable Select">
    <Stack>
      <Select
        highlightSearch
        isSearchable={false}
        label={'Flavour'}
        options={options}
        handleSelectedOption={handleSelectedOption}
        styleType={'filled'}
      />
    </Stack>
  </Story>
</Preview>

# Select with Async and Loading

Select that support asynchronous fetching, with loading status

<Preview>
  <Story name="Async Select">
    <SelectShowcase />
  </Story>
</Preview>

# Select with Async, Loading and Minimum Characters to Search for

Select that support asynchronous fetching, with loading status

<Preview>
  <Story name="Async Select with min characters">
    <SelectShowcase
      minCharactersToSearch={3}
    />
  </Story>
</Preview>

# Select with edge case

Select cases where it gets to minimum and maximum width based on options <br />
1) max width of floating menu to 620 and then ellipsis <br />
2) max width with smaller floating menu content that set to max
2) min size (150px) for both

<Preview>
  <Story name="Select with edge case">
    <EdgeCasesSelectShowcase />
  </Story>
</Preview>


# Form example

<Preview>
  <Story name="Form">
    <ContactUsForm />
    </Story>
</Preview>

