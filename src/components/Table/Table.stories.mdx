import { Meta, Preview, Props, Story } from '@storybook/addon-docs';
import { select, number } from '@storybook/addon-knobs';
import Table from './Table';
import TableFilterShowcase from '../storyUtils/TableFilterShowcase';
import { FIGMA_URL } from '../../utils/common';

<Meta
  title="Design System/Table"
  component={Table}
  parameters={{
    design: [
      {
        type: 'figma',
        name: 'Table Cell',
        url: `${FIGMA_URL}?node-id=10283%3A104367`,
      },
      {
        type: 'figma',
        name: 'Table Header',
        url: `${FIGMA_URL}?node-id=10283%3A104369`,
      },
      {
        type: 'figma',
        name: 'Table Title',
        url: `${FIGMA_URL}?node-id=10283%3A104366`,
      },
      {
        type: 'figma',
        name: 'Documentation: Examples',
        url: `${FIGMA_URL}?node-id=921%3A155`,
      },
      {
        type: 'figma',
        name: 'Documentation: Sorting',
        url: `${FIGMA_URL}?node-id=7428%3A117692`,
      },
      {
        type: 'figma',
        name: 'Documentation: Spacing Row Rules',
        url: `${FIGMA_URL}?node-id=7848%3A131938`,
      },
    ],
  }}
/>

# Table

A universal Table component that applies Orfium basic usages. Check inline data structure for more.

# Usage

```js
import { Table } from '@orfium/ictinus';

<Table />;
```

# Props

<Props of={Table} />

### Disclaimer 

In case of importing data produced using useMemo or external const, follow this pattern:

```js
import { Row } from '@orfium/ictinus/dist/components/Table/Table';
...
const data: Row<DataType> = useMemo(() => {}, []);
//or other types of data
```

Where Row is the type from the Table, so you must import it from there.

# Regular Table

Regular Table with simple rows

<Preview>
  <Story name="Regular Table with simple rows">
    <Table
      columns={['Title', 'Name', 'Surname', 'Age', 'Sauron Age']}
      dataTestIdPrefix="ictinus"
      padded
      topLeftText={'topLeftText'}
      topRightArea={() => (
        <div>
          <div>top right section</div>
        </div>
      )}
      data={[
        {
          id: 1,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 42 },
            { content: '4.2M', align: 'right' },
          ],
        },
        {
          id: 2,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 42 },
            { content: '4.2M', align: 'right' },
          ],
        },
        {
          id: 3,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 42 },
            { content: '4.2M', align: 'right' },
          ],
        },
        {
          id: 4,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 42 },
            { content: '4.2M', align: 'right' },
          ],
        },
        {
          id: 5,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 42 },
            { content: '4.2M', align: 'right' },
          ],
        },
        {
          id: 6,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 42 },
            { content: '4.2M', align: 'right' },
          ],
        },
        {
          id: 7,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 42 },
            { content: '4.2M', align: 'right' },
          ],
        },
        {
          id: 8,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 42 },
            { content: '4.2M', align: 'right' },
          ],
        },
      ]}
    />
  </Story>
</Preview>

# Table With Sorting And Column Tooltips

Regular Table with sorting and column tooltips

<Preview>
  <Story name="Regular Table with sorting and tooltips">
    <Table
      columns={[
        {
          content: {
            label: 'Title',
            sortingKey: 'title',
          },
          isSortable: true,
          tooltip: {
            content: 'Tooltip Content',
            placement: 'bottom',
          },
        },
        'Name',
        {
          content: {
            label: 'Surname',
            sortingKey: 'surname',
          },
          tooltip: {
            content: 'Tooltip Content',
          },
        },
        {
          content: {
            label: 'Age',
            sortingKey: 'age',
          },
          isSortable: true,
          tooltip: {
            content: 'Tooltip Content',
            placement: 'right',
          },
        },
      ]}
      dataTestIdPrefix="ictinus"
      onSort={(column, order) => console.log(column, order)}
      initialSort={{ column: 'title', order: 'asc' }}
      padded
      data={[
        {
          id: 1,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 2,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 3,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 4,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 5,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 6,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 7,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 8,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
      ]}
    />
  </Story>
</Preview>

# Expandable Table

Table with expandable rows and nested header

<Preview>
  <Story name="Table with expandable rows">
    <Table
      columns={['Title', 'Name', 'Surname', 'Age']}
      type={select('type', ['normal', 'nested-header'], 'normal')}
      padded
      fixedHeader
      fixedCTA
      onCheck={(g) => console.log('on table change: ', g)}
      topLeftText={'topLeftText'}
      topRightArea={() => (
        <div>
          <div>top right section</div>
        </div>
      )}
      data={new Array(50).fill(null).map((item, index) => ({
        id: index + 1,
        cells: [
          {
            content: (
              <a href="www.youtube.com" onClick={(e) => e.stopPropagation()}>
                'title'
              </a>
            ),
          },
          { content: 'firstname' },
          { content: 'lastname' },
          { content: 4.221 },
        ],
        expanded: () => <div>Hey i am an expandable content</div>,
      }))}
      actionWidth={number('Action Width', 3)}
    />
  </Story>
</Preview>

# Table with Expandable Rows - Expanded on Page Load

Table with Expandable Rows - Expanded on Page Load

<Preview>
  <Story name="Table with Expandable Rows - Expanded on Page Load">
    <Table
      columns={['Title', 'Name', 'Surname', 'Age']}
      padded
      fixedHeader
      fixedCTA
      onCheck={(g) => console.log('on table change: ', g)}
      topLeftText={'topLeftText'}
      topRightArea={() => (
        <div>
          <div>top right section</div>
        </div>
      )}
      data={new Array(50).fill(null).map((item, index) => ({
        id: index + 1,
        cells: [
          {
            content: (
              <a href="www.youtube.com" onClick={(e) => e.stopPropagation()}>
                'title'
              </a>
            ),
          },
          { content: 'firstname' },
          { content: 'lastname' },
          { content: 4.221 },
        ],
        expanded: () => <div>Hey i am an expandable content</div>,
      }))}
      actionWidth={number('Action Width', 3)}
      initialExpanded
    />
  </Story>
</Preview>

# Financial Table

Financial Table that has lines at the end as it requires a financial Orfium table

<Preview>
  <Story name="Financial Table">
    <Table
      columns={['Title', 'Name', 'Surname', 'Age']}
      onCheck={console.log}
      padded
      topLeftText={'topLeftText'}
      topRightArea={() => (
        <div>
          <div>top right section</div>
        </div>
      )}
      data={[
        {
          id: 1,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { type: 'financial', content: 'lastname' },
            { type: 'financial', content: 4.221 },
          ],
        },
        {
          id: 2,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { type: 'financial', content: 'lastname' },
            { type: 'financial', content: 4.221 },
          ],
        },
        {
          id: 3,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { type: 'financial', content: 'lastname' },
            { type: 'financial', content: 4.221 },
          ],
        },
        {
          id: 4,
          cells: [
            { content: 'title' },
            { colSpan: 2, content: 'Sum' },
            { type: 'financial', content: 4.221 },
          ],
        },
      ]}
    />
  </Story>
</Preview>

# Fixed Header Table

Fixed Header Table

<Preview>
  <Story name="Fixed Header Table">
    <Table
      columns={['Title', 'Name', 'Surname', 'Age']}
      onCheck={console.log}
      padded
      fixedHeader
      topLeftText={'topLeftText'}
      topRightArea={() => (
        <div>
          <div>top right section</div>
        </div>
      )}
      data={[
        {
          id: 1,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 2,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 3,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 12,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 13,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 22,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 23,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 32,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
        {
          id: 33,
          cells: [
            { content: 'title' },
            { content: 'firstname' },
            { content: 'lastname' },
            { content: 4.221 },
          ],
        },
      ]}
    />
  </Story>
</Preview>

# Expandable Table with sort, fixed Header and cta's

Table with expandable rows with sort, fixed Header and cta's

<Preview>
  <Story name="Table with expandable rows and sortDir">
    <Table
      columns={[
        {
          content: {
            label: 'Title',
            sortingKey: 'title',
          },
          isSortable: true,
          tooltip: {
            content: 'Tooltip Content',
            placement: 'bottom',
          },
        },
        'Name',
        {
          content: {
            label: 'Surname',
            sortingKey: 'surname',
          },
          tooltip: {
            content: 'Tooltip Content',
          },
        },
        {
          content: {
            label: 'Age',
            sortingKey: 'age',
          },
          isSortable: true,
          tooltip: {
            content: 'Tooltip Content',
            placement: 'right',
          },
        },
      ]}
      type={'normal'}
      padded
      fixedHeader
      onSort={console.log}
      fixedCTA
      sortDir={'desc'}
      onCheck={(g) => console.log('on table change: ', g)}
      topLeftText={'topLeftText'}
      topRightArea={() => (
        <div>
          <div>top right section</div>
        </div>
      )}
      data={new Array(50).fill(null).map((item, index) => ({
        id: index + 1,
        cells: [
          {
            content: (
              <a href="www.youtube.com" onClick={(e) => e.stopPropagation()}>
                'title'
              </a>
            ),
          },
          { content: 'firstname' },
          { content: 'lastname' },
          { content: 4.221 },
        ],
        expanded: () => <div>Hey i am an expandable content</div>,
      }))}
      actionWidth={number('Action Width', 3)}
    />
  </Story>
</Preview>

# Table with filtered data for performance

Table with filtered data for performance

<Preview>
  <Story name="Table with filtered data for performance">
    <TableFilterShowcase />
  </Story>
</Preview>
