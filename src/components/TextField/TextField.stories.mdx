import { Meta, Canvas, ArgsTable, Story } from '@storybook/addon-docs';
import { boolean, select, text, withKnobs } from '@storybook/addon-knobs';
import { linkTo } from '@storybook/addon-links';
import TextField from './TextField';
import Stack from '../storyUtils/Stack';
import Icon from '../Icon';
import iconSelector from '../Icon/assets/iconSelector';
import Loader from '../Loader';
import {
  MultiTextFieldShowcase,
  TextFieldShowCase,
} from '../../components/storyUtils/TextFieldShowcases';
import { FIGMA_URL } from '../../utils/common';
import SectionHeader from '../../storybook/SectionHeader';

<Meta
  title="Design System/TextField"
  component={TextField}
  parameters={{
    design: [
      {
        type: 'figma',
        url: `${FIGMA_URL}?node-id=10019%3A116505`,
      },
    ],
  }}
/>

<SectionHeader title={'TextField'} />

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)

## Overview

A universal TextField component which provides a wide range of features such as statuses, inline suffixes
such as icons and components, and a multi-input functionality with the help of the Chip component.

## Props

<ArgsTable of={TextField} />

## Usage

<UsageGuidelines
  guidelines={[
    'Do not display TextFields in the same row unless they are related (e.g. “First Name” / “Last Name”)',
    'Explicitly mark optional fields as such',
    'When possible, try to choose input width that is relevant to the content being entered into the input field',
    'Avoid truncating field label and input as much as possible',
  ]}
/>

<Tip>
  When the user needs to enter more than one individual values at a given field that are not
  selected from a predefined list, MultiTextField is more suitable. <br />
  (scroll down for more details)
</Tip>

## Variants

### TextField with Label and Placeholder

Regular TextField with label options. Label that will float, with or without Placeholder

<Canvas>
  <Story name="TextField with Label and Placeholder">
    <Stack>
      <TextField label={'Label'} />
      <TextField label={'Label'} placeholder={'Placeholder'} />
    </Stack>
  </Story>
</Canvas>

### Masked TextField

TextField with mask option. When used, placeholder prop is not available.
The mask rules are the following:

<UsageGuidelines
  guidelines={[
    " '9' => [0-9] (Numeric)",
    " 'a' => [A-Za-z] (Alphabetical)",
    " '*' => [A-Za-z0-9] (Alphanumeric)",
  ]}
/>

<Tip>
  In case number 9 is needed as a constant inside the mask, use '\9'. For example Georgian phone
  number format would be +\9\9\9 999 999999 (example: +999 123 123456){' '}
</Tip>

<Canvas>
  <Story name="Masked TextField (DontTest)">
    <Stack>
      <TextFieldShowCase
        label="Masked TextField"
        mask={text('Mask', '+(999) 999')}
        isDisabled={boolean('isDisabled', false)}
        hasSuffix={boolean('hasSuffixIcon', false)}
        suffix={select('Suffix icon name', ['', ...Object.keys(iconSelector)], 'info')}
        status={{
          type: select('Status', ['error', 'normal', 'read-only'], 'normal'),
          hintMessage: text('Hint/Error message', 'Message in Text Field'),
        }}
      />
    </Stack>
  </Story>
</Canvas>

### TextField with Icons

TextField with icon options right of the text, either as external image or one of the available ictinus Icons.

<Canvas>
  <Story name="TextField with Icons">
    <Stack>
      <TextField
        label={'Label'}
        suffix={
          <img
            style={{ background: 'red' }}
            src="https://brandmark.io/logo-rank/random/pepsi.png"
            width="16"
            height="16"
          />
        }
      />
      <TextField label={'Label'} suffix={'keyword'} />
    </Stack>
  </Story>
</Canvas>

### Disabled TextField

Disabled TextField.

<Canvas>
  <Story name="Disabled TextField">
    <Stack>
      <TextField
        isDisabled
        label={'Label'}
        status={{
          type: 'normal',
          hintMessage: 'This field is disabled',
        }}
      />
    </Stack>
  </Story>
</Canvas>

### TextField with different Statuses

TextField with different Statuses.

<Canvas>
  <Story name="TextField with different Statuses" parameters={{ decorators: [withKnobs] }}>
    <Stack>
      <TextField
        label={'Normal'}
        status={{
          type: 'normal',
          hintMessage: text('Normal Message', 'Normal Message'),
        }}
      />
      <TextField
        label={'Error'}
        status={{
          type: 'error',
          hintMessage: text('Error Message', 'Error Message'),
        }}
      />
      <TextField
        label={'Read-only'}
        status={{
          type: 'read-only',
          hintMessage: text('Normal Message', 'Normal Message'),
        }}
      />
    </Stack>
  </Story>
</Canvas>

### MultiTextField

MultiTextField enables a user to enter one or individual entries as free text.

<Canvas>
  <Story name="MultiTextField">
    <MultiTextFieldShowcase />
  </Story>
</Canvas>

### Playground

<Canvas>
  <Story name="Playground" parameters={{ decorators: [withKnobs] }}>
    <Stack>
      <TextFieldShowCase
        label={text('Label', 'Label')}
        placeholder={text('Placeholder', 'Placeholder')}
        isDisabled={boolean('isDisabled', false)}
        hasSuffix={boolean('hasSuffixIcon', false)}
        suffix={select('Suffix icon name', ['', ...Object.keys(iconSelector)], 'info')}
        status={{
          type: select('Status', ['error', 'normal', 'read-only'], 'normal'),
          hintMessage: text('Hint/Error message', 'Message in Text Field'),
        }}
      />
    </Stack>
  </Story>
</Canvas>
