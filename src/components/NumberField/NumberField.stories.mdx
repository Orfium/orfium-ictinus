import { Meta, Preview, Props, Story } from '@storybook/addon-docs';
import { boolean, number, select, text, withKnobs } from '@storybook/addon-knobs';
import { linkTo } from '@storybook/addon-links';
import NumberField from './NumberField';
import Stack from '../storyUtils/Stack';
import Icon from '../Icon';
import Loader from '../Loader';
import { FIGMA_URL } from '../../utils/common';
import Overview from '../../storybook/Overview';

<Meta
  title="Updated Components/Fields/NumberField"
  component={NumberField}
  parameters={{
    design: [
      {
        type: 'figma',
        url: `${FIGMA_URL}?node-id=10019%3A116505`,
      },
    ],
  }}
/>

<SectionHeader title={'NumberField'} />

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)

## Overview

<Story
  name="Overview"
  parameters={{
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
>
  <Overview>
    A universal NumberField that only allows for numerical characters, designed to handle numerical
    data entry.
  </Overview>
</Story>

## Props

<Props of={NumberField} />

## Usage

<UsageGuidelines
  guidelines={[
    'When the user needs to input quantitative data, such as measurements, quantities, or numerical parameters.',
    'When the user benefits from being able to manually adjust the value in small increments, using the stepper buttons',
  ]}
  policies={[
    'If the user is required to enter non-numerical data, such as text or dates, use text input or date picker instead.',
    'If the user does not need to use a stepper, use a regular text input field.',
  ]}
/>

<SubsectionHeader title="Variants" />

### NumberField with placeholder

NumberField with or without placeholder

<Preview>
  <Story name="NumberField with placeholder">
    <Stack>
      <NumberField label={'NumberField'} />
      <NumberField label={'NumberField'} placeholder={'Placeholder'} />
    </Stack>
  </Story>
</Preview>

### NumberField with format options

Formatting options for the value displayed in the number field can be configured based on
[Intl.NumberFormatOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat)

<Preview>
  <Story name="NumberField with format options">
    <Stack>
      <NumberField
        label={'NumberField'}
        formatOptions={{
          minimumFractionDigits: number('minimumFractionDigits', 2),
          maximumFractionDigits: number('maximumFractionDigits', 2),
        }}
      />
    </Stack>
  </Story>
</Preview>

### NumberField with stepper

NumberField can have a stepper with increment and decrement buttons. Step defaults to 1 if not provided.

<Tip>
  [Accessibility] - Once the NumberField is focused, Stepper keyboard navigation is supported with
  the arrowUp and arrowDown keys.
</Tip>

<Preview>
  <Story name="NumberField with stepper">
    <Stack>
      <NumberField label={'NumberField'} hasStepper step={number('Step', undefined)} />
    </Stack>
  </Story>
</Preview>

## NumberField with min/max values

NumberField can have min/max values provided as props.

<Preview>
  <Story name="NumberField with min/max values">
    <Stack>
      <NumberField
        label={'NumberField'}
        minValue={number('minValue', undefined)}
        maxValue={number('maxValue', undefined)}
        suffix={<div style={{ color: 'gray' }}>%</div>}
      />
    </Stack>
  </Story>
</Preview>

### NumberField statuses

NumberField inherits all TextField statuses behavior.

<Preview>
  <Story name="NumberField statuses">
    <Stack>
      <NumberField
        label={'Normal'}
        status={{
          type: 'normal',
          hintMessage: text('Custom Hint Message', 'Hint in Text Field'),
        }}
      />
      <NumberField
        label={'Error'}
        status={{
          type: 'error',
          hintMessage: text('Custom Error Message', 'Error in Text Field'),
        }}
      />
      <NumberField
        label={'Read-only'}
        status={{
          type: 'read-only',
          hintMessage: text('Custom Hint Message', 'Hint in Text Field'),
        }}
      />
    </Stack>
  </Story>
</Preview>

### Disabled NumberField

Disabled NumberField.

<Preview>
  <Story name="Disabled NumberField">
    <Stack>
      <NumberField
        isDisabled
        label={'NumberField'}
        status={{
          type: 'normal',
          hintMessage: 'This field is disabled',
        }}
      />
    </Stack>
  </Story>
</Preview>

### Playground

<Preview>
  <Story name="Playground" parameters={{ decorators: [withKnobs] }}>
    <Stack>
      <NumberField
        label={text('Label', 'NumberField')}
        isDisabled={boolean('isDisabled', false)}
        isRequired={boolean('isRequired', false)}
        hasStepper={boolean('hasStepper', false)}
        minValue={number('minValue', undefined)}
        maxValue={number('maxValue', undefined)}
        step={number('step', undefined)}
        formatOptions={{
          minimumFractionDigits: number('minimumFractionDigits', 2),
          maximumFractionDigits: number('maximumFractionDigits', 2),
        }}
        status={{
          type: select('Status', ['error', 'normal', 'read-only'], 'normal'),
          hintMessage: text('Hint/Error message', 'Message in Number Field'),
        }}
      />
    </Stack>
  </Story>
</Preview>
